
<br>
<br>
<div id="container_settings" style="height: 95%; overflow: scroll">
    <button class="btn btn-primary" id="save-settings-button" onclick="saveWorkspaces()">Salva</button>
    <div id="settings_block_usertables_settings" class="drag-elements-container" >
        <div class="drag-item">
            {% for workspace in workspaces %}
                <div data-order="{{  forloop.counter0 }}" class="drag-item2" style="border: 2px solid red">
                    {% if workspace.order != null %}
                        <input class="form-check-input mt-0 checkbox" type="checkbox" checked value="" aria-label="Checkbox for following text input">
                    {% else %}
                        <input class="form-check-input mt-0 checkbox" type="checkbox" value="" aria-label="Checkbox for following text input" >
                    {% endif %}
                    <div>
                        <span>{{workspace.name}}</span>
                        <input class="form-check-input mt-0"  value="{{workspace.icon}}" style="width: 100%">
                    </div>
                    <div>
                        <span class="settings_block_usertables_fieldid" data-fieldid="{{ workspace.workspaceid }}"> {{workspace.workspaceid}}  </span>
                    </div>
                </div>
            {% endfor %}
        </input class="form-check-input">
    </div>
</div>


<script>
    (function() {
        var drake = dragula([document.querySelector('.drag-elements-container')], {
            moves: function (el, container, handle) {
                return !handle.classList.contains('drag-item2');
            }
        });

        dragula([].slice.apply(document.querySelectorAll('.drag-item')), {
            direction: 'vertical'
        });
    })();

    function saveWorkspaces() {
        var workspaces = [];
        
        $.ajax({

        })
    }
</script>